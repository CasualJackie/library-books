(this["webpackJsonplibrary-books"]=this["webpackJsonplibrary-books"]||[]).push([[0],{16:function(e,t,r){},17:function(e,t,r){},20:function(e,t,r){},22:function(e,t,r){},23:function(e,t,r){},24:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(1),c=r.n(a),s=r(7),i=r.n(s),o=r(3),u=r.n(o),l=r(5),b=r(4),j=(r(15),r(16),"https://www.googleapis.com/books/v1/volumes?q="),m=function(){var e=Object(l.a)(u.a.mark((function e(){var t,r,n=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",e.next=3,fetch(j+t);case 3:return r=e.sent,e.abrupt("return",r.json());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=(r(17),r(2)),f=r.n(d),p={volumeInfo:f.a.shape({title:f.a.string.isRequired,authors:f.a.arrayOf(f.a.string).isRequired,imageLinks:f.a.shape({smallThumbnail:f.a.string.isRequired}).isRequired}).isRequired}.isRequired,O=Object(a.memo)((function(e){var t=e.books;return Object(n.jsx)("div",{className:"books",children:t.map((function(e){var t=e.volumeInfo,r=e.id;return Object(n.jsxs)("div",{className:"book",children:[Object(n.jsx)("img",{className:"book__img",src:void 0===t.imageLinks?"./images/logo_book.png":t.imageLinks.smallThumbnail,alt:t.title}),Object(n.jsx)("div",{children:Object(n.jsx)("h4",{children:t.title})}),Object(n.jsx)("div",{children:t.authors&&t.authors.map((function(e){return Object(n.jsx)("div",{children:e},e)}))})]},r)}))})}));O.propTypes={books:f.a.arrayOf(p).isRequired}.isRequired;r(20);var h=r(8),v=r.n(h),k=(f.a.func.isRequired,f.a.arrayOf(p).isRequired,f.a.bool.isRequired,r(22),Object(a.memo)((function(e){var t=e.autocomplete,r=e.clickAutocomplete;return Object(n.jsx)("div",{className:"form__item ui selection dropdown",children:t.map((function(e){var t=e.volumeInfo,a=e.id;return Object(n.jsx)("button",{type:"button",className:"autocomplete__item",onClick:function(){return r(t.title)},children:t.title},a)}))})})));k.propTypes={clickAutocomplete:f.a.func.isRequired,autocomplete:f.a.arrayOf(p).isRequired}.isRequired;var x=Object(a.memo)((function(e){var t=e.getBooks,r=e.changeErrorStatus,c=Object(a.useState)(""),s=Object(b.a)(c,2),i=s[0],o=s[1],j=Object(a.useState)([]),d=Object(b.a)(j,2),f=d[0],p=d[1],O=Object(a.useState)(!1),h=Object(b.a)(O,2),x=h[0],g=h[1],_=Object(a.useState)(!1),q=Object(b.a)(_,2),y=q[0],N=q[1],R=Object(a.useCallback)((function(e){var t=e.target.value;o(t),""!==t?(N(!0),S(t)):N(!1)}),[]),w=Object(a.useCallback)((function(e){if(e.preventDefault(),""===i)return g(!0),void r(!0);t(i),N(!1)}),[i]),C=Object(a.useCallback)(function(){var e=Object(l.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:if(r=e.sent,void 0!==r.items){e.next=7;break}return g(!0),e.abrupt("return");case 7:g(!1),p(r.items);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),S=Object(a.useCallback)(v()(C,500),[]),I=Object(a.useCallback)((function(e){t(e),o(e),N(!1)}),[]);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("form",{className:"form",children:[Object(n.jsx)("input",{className:"form__item ui selection dropdown",onChange:R,value:i}),Object(n.jsx)("button",{className:"form__item ui primary button",onClick:w,type:"submit",disabled:x,children:"search"})]}),y&&(x?Object(n.jsx)("div",{className:"error",children:"No matches"}):Object(n.jsx)(k,{autocomplete:f,clickAutocomplete:I}))]})})),g=function(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),r=t[0],c=t[1],s=Object(a.useState)(!1),i=Object(b.a)(s,2),o=i[0],j=i[1],d=Object(a.useCallback)(function(){var e=Object(l.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:0===(r=e.sent).totalItems?j(!0):(j(!1),c(r.items));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("div",{className:"container__left",children:o?Object(n.jsx)("img",{className:"container__image",src:"./images/not_found.png",alt:"not found"}):Object(n.jsx)(O,{books:r})}),Object(n.jsx)("div",{className:"container__right",children:Object(n.jsx)(x,{getBooks:d,changeErrorStatus:j})})]})};r(23);i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(g,{})}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.d60f52b6.chunk.js.map