(this["webpackJsonplibrary-books"]=this["webpackJsonplibrary-books"]||[]).push([[0],{14:function(e,t,a){},17:function(e,t,a){},21:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a(1),n=a.n(c),i=a(7),s=a.n(i),o=(a(14),a(3)),u=a.n(o),l=a(5),b=a(4),m=a(8),d=a.n(m),j=(a(17),"https://www.googleapis.com/books/v1/volumes?q="),p=function(){var e=Object(l.a)(u.a.mark((function e(){var t,a,r=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",e.next=3,fetch(j+t);case 3:return a=e.sent,e.abrupt("return",a.json());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=a(2),O=a.n(f),h={volumeInfo:O.a.shape({title:O.a.string.isRequired,authors:O.a.array.isRequired,imageLinks:O.a.shape({smallThumbnail:O.a.string.isRequired}).isRequired}).isRequired}.isRequired,v={query:O.a.string.isRequired,handleQuery:O.a.func.isRequired,handleSubmit:O.a.func.isRequired,autocomplete:O.a.arrayOf(h).isRequired,autocompleteError:O.a.bool.isRequired,autocompleteStatus:O.a.bool.isRequired,clickAutocomplete:O.a.func.isRequired}.isRequired,k=Object(c.memo)((function(e){var t=e.autocomplete,a=e.clickAutocomplete;return Object(r.jsx)("div",{className:"form__item ui selection dropdown",children:t.map((function(e){var t=e.volumeInfo,c=e.id;return Object(r.jsx)("button",{type:"button",className:"autocomplete__item",onClick:function(){return a(t.title)},children:t.title},c)}))})}));k.propTypes={clickAutocomplete:O.a.func.isRequired,autocomplete:O.a.arrayOf(h).isRequired}.isRequired;var x=Object(c.memo)((function(e){var t=e.query,a=e.handleQuery,c=e.handleSubmit,n=e.autocomplete,i=e.autocompleteError,s=e.autocompleteStatus,o=e.clickAutocomplete;return Object(r.jsxs)("div",{className:"container__right",children:[Object(r.jsxs)("form",{className:"form",children:[Object(r.jsx)("input",{className:"form__item ui selection dropdown",onChange:a,value:t}),Object(r.jsx)("button",{className:"form__item ui primary button",onClick:c,type:"submit",disabled:i,children:"search"})]}),s&&(i?Object(r.jsx)("div",{className:"error",children:"No matches"}):Object(r.jsx)(k,{clickAutocomplete:o,autocomplete:n}))]})}));x.propTypes=v;var q=a.p+"static/media/logo_book.ff5fe4ac.png",y=Object(c.memo)((function(e){var t=e.books;return Object(r.jsx)("div",{className:"books",children:t.map((function(e){var t=e.volumeInfo,a=e.id;return Object(r.jsxs)("div",{className:"book",children:[Object(r.jsx)("img",{className:"book__img",src:void 0===t.imageLinks?q:t.imageLinks.smallThumbnail,alt:t.title}),Object(r.jsx)("div",{children:Object(r.jsx)("h4",{children:t.title})}),Object(r.jsx)("div",{children:t.authors&&t.authors.map((function(e){return Object(r.jsx)("div",{children:e},e)}))})]},a)}))})}));y.propTypes={books:O.a.arrayOf(h).isRequired}.isRequired;var g=a.p+"static/media/not_found.065e6db7.png",R=function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),a=t[0],n=t[1],i=Object(c.useState)(""),s=Object(b.a)(i,2),o=s[0],m=s[1],j=Object(c.useState)(!1),f=Object(b.a)(j,2),O=f[0],h=f[1],v=Object(c.useState)([]),k=Object(b.a)(v,2),q=k[0],R=k[1],_=Object(c.useState)(!1),N=Object(b.a)(_,2),w=N[0],S=N[1],C=Object(c.useState)(!1),A=Object(b.a)(C,2),I=A[0],T=A[1],E=Object(c.useCallback)((function(e){var t=e.target.value;m(t),""!==t?(T(!0),B(t)):T(!1)}),[]),L=Object(c.useCallback)((function(e){if(e.preventDefault(),""===o)return S(!0),void h(!0);D(o),T(!1)}),[o]),Q=Object(c.useCallback)((function(e){D(e),m(e),T(!1)}),[]),J=Object(c.useCallback)(function(){var e=Object(l.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t);case 2:if(a=e.sent,void 0!==a.items){e.next=7;break}return S(!0),e.abrupt("return");case 7:S(!1),R(a.items);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),B=Object(c.useCallback)(d()(J,500),[]),D=Object(c.useCallback)(function(){var e=Object(l.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t);case 2:0===(a=e.sent).totalItems?h(!0):(h(!1),n(a.items));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("div",{className:"container__left",children:O?Object(r.jsx)("img",{className:"container__img",src:g,alt:"not found"}):Object(r.jsx)(y,{books:a})}),Object(r.jsx)(x,{query:o,handleQuery:E,handleSubmit:L,autocomplete:q,autocompleteError:w,autocompleteStatus:I,clickAutocomplete:Q})]})};a(20);s.a.render(Object(r.jsx)(n.a.StrictMode,{children:Object(r.jsx)(R,{})}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.af30dcd0.chunk.js.map