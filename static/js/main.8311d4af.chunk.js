(this["webpackJsonplibrary-books"]=this["webpackJsonplibrary-books"]||[]).push([[0],{16:function(e,t,a){},18:function(e,t,a){},21:function(e,t,a){},22:function(e,t,a){},23:function(e,t,a){},24:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a(1),n=a.n(c),i=a(7),o=a.n(i),s=a(3),u=a.n(s),l=a(5),m=a(4),b=(a(15),a(16),a(8)),d=a.n(b),j="https://www.googleapis.com/books/v1/volumes?q=",p=function(){var e=Object(l.a)(u.a.mark((function e(){var t,a,r=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",e.next=3,fetch(j+t);case 3:return a=e.sent,e.abrupt("return",a.json());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=(a(18),a(2)),O=a.n(f),h={volumeInfo:O.a.shape({title:O.a.string.isRequired,authors:O.a.arrayOf(O.a.string).isRequired,imageLinks:O.a.shape({smallThumbnail:O.a.string.isRequired}).isRequired}).isRequired}.isRequired,v={query:O.a.string.isRequired,handleQuery:O.a.func.isRequired,handleSubmit:O.a.func.isRequired,autocomplete:O.a.arrayOf(h).isRequired,autocompleteError:O.a.bool.isRequired,autocompleteStatus:O.a.bool.isRequired,clickAutocomplete:O.a.func.isRequired}.isRequired,k=(a(21),Object(c.memo)((function(e){var t=e.autocomplete,a=e.clickAutocomplete;return Object(r.jsx)("div",{className:"form__item ui selection dropdown",children:t.map((function(e){var t=e.volumeInfo,c=e.id;return Object(r.jsx)("button",{type:"button",className:"autocomplete__item",onClick:function(){return a(t.title)},children:t.title},c)}))})})));k.propTypes={clickAutocomplete:O.a.func.isRequired,autocomplete:O.a.arrayOf(h).isRequired}.isRequired;var x=Object(c.memo)((function(e){var t=e.query,a=e.handleQuery,c=e.handleSubmit,n=e.autocomplete,i=e.autocompleteError,o=e.autocompleteStatus,s=e.clickAutocomplete;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("form",{className:"form",children:[Object(r.jsx)("input",{className:"form__item ui selection dropdown",onChange:a,value:t}),Object(r.jsx)("button",{className:"form__item ui primary button",onClick:c,type:"submit",disabled:i,children:"search"})]}),o&&(i?Object(r.jsx)("div",{className:"error",children:"No matches"}):Object(r.jsx)(k,{clickAutocomplete:s,autocomplete:n}))]})}));x.propTypes=v;a(22);var g=Object(c.memo)((function(e){var t=e.books;return Object(r.jsx)("div",{className:"books",children:t.map((function(e){var t=e.volumeInfo,a=e.id;return Object(r.jsxs)("div",{className:"book",children:[Object(r.jsx)("img",{className:"book__img",src:void 0===t.imageLinks?"./images/logo_book.png":t.imageLinks.smallThumbnail,alt:t.title}),Object(r.jsx)("div",{children:Object(r.jsx)("h4",{children:t.title})}),Object(r.jsx)("div",{children:t.authors&&t.authors.map((function(e){return Object(r.jsx)("div",{children:e},e)}))})]},a)}))})}));g.propTypes={books:O.a.arrayOf(h).isRequired}.isRequired;var q=function(){var e=Object(c.useState)([]),t=Object(m.a)(e,2),a=t[0],n=t[1],i=Object(c.useState)(""),o=Object(m.a)(i,2),s=o[0],b=o[1],j=Object(c.useState)(!1),f=Object(m.a)(j,2),O=f[0],h=f[1],v=Object(c.useState)([]),k=Object(m.a)(v,2),q=k[0],y=k[1],R=Object(c.useState)(!1),_=Object(m.a)(R,2),N=_[0],w=_[1],S=Object(c.useState)(!1),C=Object(m.a)(S,2),A=C[0],I=C[1],T=Object(c.useCallback)((function(e){var t=e.target.value;b(t),""!==t?(I(!0),J(t)):I(!1)}),[]),E=Object(c.useCallback)((function(e){if(e.preventDefault(),""===s)return w(!0),void h(!0);B(s),I(!1)}),[s]),L=Object(c.useCallback)((function(e){B(e),b(e),I(!1)}),[]),Q=Object(c.useCallback)(function(){var e=Object(l.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t);case 2:if(a=e.sent,void 0!==a.items){e.next=7;break}return w(!0),e.abrupt("return");case 7:w(!1),y(a.items);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),J=Object(c.useCallback)(d()(Q,500),[]),B=Object(c.useCallback)(function(){var e=Object(l.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t);case 2:0===(a=e.sent).totalItems?h(!0):(h(!1),n(a.items));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("div",{className:"container__left",children:O?Object(r.jsx)("img",{className:"container__image",src:"./images/not_found.png",alt:"not found"}):Object(r.jsx)(g,{books:a})}),Object(r.jsx)("div",{className:"container__right",children:Object(r.jsx)(x,{query:s,handleQuery:T,handleSubmit:E,autocomplete:q,autocompleteError:N,autocompleteStatus:A,clickAutocomplete:L})})]})};a(23);o.a.render(Object(r.jsx)(n.a.StrictMode,{children:Object(r.jsx)(q,{})}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.8311d4af.chunk.js.map