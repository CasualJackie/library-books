{"version":3,"sources":["api/loadBooks.js","components/Book/Book.jsx","shapes/BookShape.js","shapes/BooksListShape.js","components/BooksList/BooksList.jsx","components/Autocomplete/Autocomplete.jsx","shapes/SearchBooksShape.js","components/SearchBooks/SearchBooks.jsx","App.jsx","index.jsx"],"names":["BASE_URL","loadBooks","a","request","fetch","response","json","Book","PropTypes","arrayOf","imageLinks","shape","smallThumbnail","string","isRequired","title","authors","book","className","src","undefined","alt","map","author","BooksListShape","volumeInfo","BooksList","memo","books","id","propTypes","Autocomplete","func","bool","autocomplete","clickAutocomplete","type","onClick","SearchBooks","getBooks","changeErrorStatus","useState","query","setQuery","autocompleteSuggestions","setAutocompleteSuggestions","autocompleteError","setAutocompleteError","autocompleteStatus","setAutocompleteStatus","handleQuery","useCallback","event","value","target","queryAutocomplete","handleSubmit","preventDefault","loadAutocomplete","part","items","debounce","onChange","disabled","App","setBooks","statusError","setStatusError","loadData","totalItems","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c3ebcb74.chunk.js","sourcesContent":["const BASE_URL = 'https://www.googleapis.com/books/v1/volumes?q=';\n\nexport const loadBooks = async(request = '') => {\n  const response = await fetch(BASE_URL + request);\n\n  return response.json();\n};\n","import React from 'react';\nimport './Book.scss';\nimport { BookShape } from '../../shapes/BookShape';\n\nexport const Book = ({ book }) => (\n  <div className=\"book\">\n    <img\n      className=\"book__img\"\n      src={book.imageLinks === undefined\n        ? './images/logo_book.png'\n        : book.imageLinks.smallThumbnail}\n      alt={book.title}\n    />\n\n    <div>\n      <h4>\n        {book.title}\n      </h4>\n    </div>\n\n    <div>\n      {book.authors && book.authors.map(author => (\n        <div key={author}>{author}</div>\n      ))}\n    </div>\n  </div>\n);\n\nBook.propTypes = BookShape;\n","import PropTypes from 'prop-types';\n\nexport const BookShape = {\n  book: PropTypes.arrayOf({\n    imageLinks: PropTypes.shape({\n      smallThumbnail: PropTypes.string.isRequired,\n    }).isRequired,\n    title: PropTypes.string.isRequired,\n    authors: PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,\n  }).isRequired,\n}.isRequired;\n","import PropTypes from 'prop-types';\n\nexport const BooksListShape = {\n  volumeInfo: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    authors: PropTypes.arrayOf(PropTypes.string).isRequired,\n    imageLinks: PropTypes.shape({\n      smallThumbnail: PropTypes.string.isRequired,\n    }).isRequired,\n  }).isRequired,\n}.isRequired;\n","import React, { memo } from 'react';\nimport './BooksList.scss';\nimport PropTypes from 'prop-types';\nimport { Book } from '../Book/Book';\nimport { BooksListShape } from '../../shapes/BooksListShape';\n\nexport const BooksList = memo(({ books }) => (\n  <div className=\"books\">\n    {books.map(({ volumeInfo, id }) => (\n      <Book book={volumeInfo} key={id} />\n    ))}\n  </div>\n));\n\nBooksList.propTypes = {\n  books: PropTypes.arrayOf(BooksListShape).isRequired,\n}.isRequired;\n","import React, { memo } from 'react';\nimport './Autocomplete.scss';\nimport PropTypes from 'prop-types';\nimport { BooksListShape } from '../../shapes/BooksListShape';\n\nexport const Autocomplete = memo(({ autocomplete, clickAutocomplete }) => (\n  <div className=\"form__item ui selection dropdown\">\n    {autocomplete.map(({ volumeInfo, id }) => (\n      <button\n        key={id}\n        type=\"button\"\n        className=\"autocomplete__item\"\n        onClick={() => clickAutocomplete(volumeInfo.title)}\n      >\n        {volumeInfo.title}\n      </button>\n    ))}\n  </div>\n));\n\nAutocomplete.propTypes = {\n  clickAutocomplete: PropTypes.func.isRequired,\n  autocomplete: PropTypes.arrayOf(BooksListShape).isRequired,\n}.isRequired;\n","import PropTypes from 'prop-types';\nimport { BooksListShape } from './BooksListShape';\n\nexport const SearchBooksShape = {\n  getBooks: PropTypes.func.isRequired,\n  autocomplete: PropTypes.arrayOf(BooksListShape).isRequired,\n  changeErrorStatus: PropTypes.bool.isRequired,\n}.isRequired;\n","import React, { memo, useState, useCallback } from 'react';\nimport './SearchBooks.scss';\nimport debounce from 'lodash.debounce';\nimport { loadBooks } from '../../api/loadBooks';\nimport { SearchBooksShape } from '../../shapes/SearchBooksShape';\nimport { Autocomplete } from '../Autocomplete/Autocomplete';\n\nexport const SearchBooks = memo(({ getBooks, changeErrorStatus }) => {\n  const [query, setQuery] = useState('');\n  const [autocompleteSuggestions, setAutocompleteSuggestions] = useState([]);\n  const [autocompleteError, setAutocompleteError] = useState(false);\n  const [autocompleteStatus, setAutocompleteStatus] = useState(false);\n\n  const handleQuery = useCallback((event) => {\n    const { value } = event.target;\n\n    setQuery(value);\n\n    if (value === '') {\n      setAutocompleteStatus(false);\n\n      return;\n    }\n\n    setAutocompleteStatus(true);\n    queryAutocomplete(value);\n  }, []);\n\n  const handleSubmit = useCallback((event) => {\n    event.preventDefault();\n\n    if (query === '') {\n      setAutocompleteError(true);\n      changeErrorStatus(true);\n\n      return;\n    }\n\n    getBooks(query);\n    setAutocompleteStatus(false);\n  }, [query]);\n\n  const loadAutocomplete = useCallback(async(part) => {\n    const response = await loadBooks(part);\n    const result = response.items;\n\n    if (result === undefined) {\n      setAutocompleteError(true);\n\n      return;\n    }\n\n    setAutocompleteError(false);\n    setAutocompleteSuggestions(response.items);\n  }, []);\n\n  const queryAutocomplete = useCallback(debounce(loadAutocomplete, 500), []);\n\n  const clickAutocomplete = useCallback((title) => {\n    getBooks(title);\n    setQuery(title);\n    setAutocompleteStatus(false);\n  }, []);\n\n  return (\n    <>\n      <form className=\"form\">\n        <input\n          className=\"form__item ui selection dropdown\"\n          onChange={handleQuery}\n          value={query}\n        />\n\n        <button\n          className=\"form__item ui primary button\"\n          onClick={handleSubmit}\n          type=\"submit\"\n          disabled={autocompleteError}\n        >\n          search\n        </button>\n      </form>\n\n      {\n        autocompleteStatus\n        && (autocompleteError\n          ? <div className=\"error\">No matches</div>\n          : (\n            <Autocomplete\n              autocomplete={autocompleteSuggestions}\n              clickAutocomplete={clickAutocomplete}\n            />\n          ))\n      }\n    </>\n  );\n});\n\nSearchBooks.propTypes = SearchBooksShape;\n","import React, { useState, useCallback } from 'react';\nimport 'semantic-ui-css/semantic.min.css';\nimport './App.scss';\nimport { loadBooks } from './api/loadBooks';\nimport { BooksList } from './components/BooksList/BooksList';\nimport { SearchBooks } from './components/SearchBooks/SearchBooks';\n\nexport const App = () => {\n  const [books, setBooks] = useState([]);\n  const [statusError, setStatusError] = useState(false);\n\n  const loadData = useCallback(async(title) => {\n    const response = await loadBooks(title);\n\n    if (response.totalItems === 0) {\n      setStatusError(true);\n    } else {\n      setStatusError(false);\n      setBooks(response.items);\n    }\n  }, []);\n\n  return (\n    <div className=\"container\">\n      <div className=\"container__left\">\n        {statusError\n          ? (\n            <img\n              className=\"container__image\"\n              src=\"./images/not_found.png\"\n              alt=\"not found\"\n            />\n          )\n          : <BooksList books={books} />}\n      </div>\n\n      <div className=\"container__right\">\n        <SearchBooks getBooks={loadData} changeErrorStatus={setStatusError} />\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './App';\nimport './index.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}